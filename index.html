<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<title>åŒ»ç™‚ãƒ»ä»‹è­·æ–½è¨­ãƒãƒƒãƒ—</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
<style>
body { margin:0; padding:0; overflow:hidden; font-family: sans-serif; }
#map { height:100vh; width:100vw; z-index:1; }
.custom-icon { text-align:center; }
.circle-btn {
  width:48px; height:48px; border-radius:50%; text-align:center; line-height:48px;
  box-shadow:0 2px 8px rgba(0,0,0,0.3); cursor:pointer; font-size:24px; z-index:2000;
  position:fixed; background:white;
}
#control-btn { top:15px; right:15px; background:#007bff; color:white; }
#controls {
  display:none; position:fixed; top:70px; right:15px; width:220px; 
  background:white; padding:15px; border-radius:8px; z-index:2000;
  max-height:75vh; overflow-y:auto; box-shadow:0 4px 15px rgba(0,0,0,0.2);
}
#search-btn { top:75px; right:15px; background:#28a745; color:white; }
#search-panel {
  display:none; position:fixed; top:130px; right:15px; width:220px;
  background:white; padding:10px; border-radius:8px; z-index:2000;
  box-shadow:0 4px 15px rgba(0,0,0,0.2);
}
#info-btn { top:135px; right:15px; background:#ff69b4; color:white; }
#info-panel {
  display:none; position:fixed; bottom:20px; left:20px; right:20px;
  background:rgba(255,255,255,0.95); padding:15px; border-radius:10px;
  z-index:3000; box-shadow:0 -2px 10px rgba(0,0,0,0.2); font-size:14px;
}
.section-title { font-weight:bold; margin-top:10px; margin-bottom:5px; border-bottom:1px solid #eee; }
.layer-item { margin-bottom: 8px; font-size: 14px; display: flex; align-items: center; }
input[type="checkbox"], input[type="radio"] { transform: scale(1.3); margin-right: 10px; }
button.menu-sub-btn { margin: 5px 1%; padding: 8px; width: 46%; font-size: 11px; }
.blink { animation:blink 1s 3; }
@keyframes blink { 0%{transform:scale(1);} 50%{transform:scale(2);} 100%{transform:scale(1);} }
</style>
</head>
<body>
  <div id="control-btn" class="circle-btn" onclick="togglePanel('controls')">ğŸ› ï¸</div>
  <div id="controls">
    <div class="section-title">ä¸€æ‹¬æ“ä½œ</div>
    <button class="menu-sub-btn" id="selectAllBtn">å…¨ã¦é¸æŠ</button>
    <button class="menu-sub-btn" id="deselectAllBtn">å…¨ã¦è§£é™¤</button>
    <div class="section-title">åœ°å›³ã®ç¨®é¡</div>
    <label class="layer-item"><input type="radio" name="baseLayer" value="æ¨™æº–" checked> æ¨™æº–ãƒãƒƒãƒ—</label>
    <label class="layer-item"><input type="radio" name="baseLayer" value="èˆªç©ºå†™çœŸ"> èˆªç©ºå†™çœŸ</label>
    <label class="layer-item"><input type="radio" name="baseLayer" value="ãƒˆãƒã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯åœ°å›³"> ãƒˆãƒã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯åœ°å›³</label>
    <label class="layer-item"><input type="radio" name="baseLayer" value="ã‚°ãƒ¬ãƒ¼ã‚¹ã‚±ãƒ¼ãƒ«åœ°å›³"> ã‚°ãƒ¬ãƒ¼ã‚¹ã‚±ãƒ¼ãƒ«åœ°å›³</label>
    <label class="layer-item"><input type="radio" name="baseLayer" value="ã‚¹ãƒˆãƒªãƒ¼ãƒˆãƒãƒƒãƒ—"> ã‚¹ãƒˆãƒªãƒ¼ãƒˆãƒãƒƒãƒ—</label>
    <div class="section-title">å¢ƒç•Œç·šãƒ»æ–½è¨­ç¨®é¡</div>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="ç”ºä¸ç›®å¢ƒç•Œ01"> æµ·éƒ¨åŒ»ç™‚åœ</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="ç”ºä¸ç›®å¢ƒç•Œ02"> å°¾å¼µæ±éƒ¨åŒ»ç™‚åœ</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="ç”ºä¸ç›®å¢ƒç•Œ03"> å°¾å¼µè¥¿éƒ¨åŒ»ç™‚åœ</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="ç”ºä¸ç›®å¢ƒç•Œ04"> å°¾å¼µåŒ—éƒ¨åŒ»ç™‚åœ</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="ç”ºä¸ç›®å¢ƒç•Œ05"> çŸ¥å¤šåŠå³¶åŒ»ç™‚åœ</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="ç”ºä¸ç›®å¢ƒç•Œ06"> è¥¿ä¸‰æ²³åŒ—éƒ¨åŒ»ç™‚åœ</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="ç”ºä¸ç›®å¢ƒç•Œ07"> è¥¿ä¸‰æ²³å—éƒ¨è¥¿åŒ»ç™‚åœ</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="ç”ºä¸ç›®å¢ƒç•Œ08"> è¥¿ä¸‰æ²³å—éƒ¨æ±åŒ»ç™‚åœ</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="ç”ºä¸ç›®å¢ƒç•Œ09"> æ±ä¸‰æ²³åŒ—éƒ¨åŒ»ç™‚åœ</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="ç”ºä¸ç›®å¢ƒç•Œ10"> æ±ä¸‰æ²³å—éƒ¨åŒ»ç™‚åœ</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="ç”ºä¸ç›®å¢ƒç•Œ11"> åå¤å±‹ãƒ»å°¾å¼µä¸­éƒ¨åŒ»ç™‚åœ</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="ç—…é™¢"> ç—…é™¢</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="è¨ºç™‚æ‰€"> è¨ºç™‚æ‰€</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="æ­¯ç§‘"> æ­¯ç§‘</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="åŠ©ç”£é™¢"> åŠ©ç”£é™¢</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="è–¬å±€"> è–¬å±€</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="ã‚°ãƒ«ãƒ¼ãƒ—ãƒ›ãƒ¼ãƒ "> ã‚°ãƒ«ãƒ¼ãƒ—ãƒ›ãƒ¼ãƒ </label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="ã‚·ãƒ§ãƒ¼ãƒˆã‚¹ãƒ†ã‚¤(åŒ»ç™‚)"> ã‚·ãƒ§ãƒ¼ãƒˆã‚¹ãƒ†ã‚¤(åŒ»ç™‚)</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="ã‚·ãƒ§ãƒ¼ãƒˆã‚¹ãƒ†ã‚¤ï¼ˆä»‹è­·åŒ»ç™‚é™¢ï¼‰"> ã‚·ãƒ§ãƒ¼ãƒˆã‚¹ãƒ†ã‚¤ï¼ˆä»‹è­·åŒ»ç™‚é™¢ï¼‰</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="ã‚·ãƒ§ãƒ¼ãƒˆã‚¹ãƒ†ã‚¤(ç¦ç¥‰)"> ã‚·ãƒ§ãƒ¼ãƒˆã‚¹ãƒ†ã‚¤(ç¦ç¥‰)</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="ã‚·ãƒ§ãƒ¼ãƒˆã‚¹ãƒ†ã‚¤(è€å¥)"> ã‚·ãƒ§ãƒ¼ãƒˆã‚¹ãƒ†ã‚¤(è€å¥)</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="ãƒ‡ã‚¤ã‚±ã‚¢"> ãƒ‡ã‚¤ã‚±ã‚¢</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="ãƒ‡ã‚¤ã‚µãƒ¼ãƒ“ã‚¹"> ãƒ‡ã‚¤ã‚µãƒ¼ãƒ“ã‚¹</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="ä»‹è­·åŒ»ç™‚é™¢"> ä»‹è­·åŒ»ç™‚é™¢</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="å±…å®…ä»‹è­·æ”¯æ´"> å±…å®…ä»‹è­·æ”¯æ´</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="å°è¦æ¨¡å¤šæ©Ÿèƒ½å‹"> å°è¦æ¨¡å¤šæ©Ÿèƒ½å‹</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="åœ°åŸŸç‰¹å®šæ–½è¨­(ã‚µãƒ¼ãƒ“ã‚¹ä»˜ãé«˜é½¢è€…ä½å®…)"> åœ°åŸŸç‰¹å®šæ–½è¨­(ã‚µãƒ¼ãƒ“ã‚¹ä»˜ãé«˜é½¢è€…ä½å®…)</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="åœ°åŸŸç‰¹å®šæ–½è¨­(è»½è²»è€äººãƒ›ãƒ¼ãƒ )"> åœ°åŸŸç‰¹å®šæ–½è¨­(è»½è²»è€äººãƒ›ãƒ¼ãƒ )</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="åœ°åŸŸç‰¹å®šæ–½è¨­(æœ‰æ–™è€äººãƒ›ãƒ¼ãƒ )"> åœ°åŸŸç‰¹å®šæ–½è¨­(æœ‰æ–™è€äººãƒ›ãƒ¼ãƒ )</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="åœ°åŸŸå¯†ç€ãƒ‡ã‚¤"> åœ°åŸŸå¯†ç€ãƒ‡ã‚¤</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="åœ°åŸŸè€äººç¦ç¥‰æ–½è¨­"> åœ°åŸŸè€äººç¦ç¥‰æ–½è¨­</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="å®šæœŸå·¡å›ãƒ»éšæ™‚å¯¾å¿œã‚µãƒ¼ãƒ“ã‚¹"> å®šæœŸå·¡å›ãƒ»éšæ™‚å¯¾å¿œã‚µãƒ¼ãƒ“ã‚¹</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="ç‰¹å®šæ–½è¨­(ã‚µãƒ¼ãƒ“ã‚¹ä»˜ãé«˜é½¢è€…ä½å®…)"> ç‰¹å®šæ–½è¨­(ã‚µãƒ¼ãƒ“ã‚¹ä»˜ãé«˜é½¢è€…ä½å®…)</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="ç‰¹å®šæ–½è¨­(è»½è²»è€äººãƒ›ãƒ¼ãƒ )"> ç‰¹å®šæ–½è¨­(è»½è²»è€äººãƒ›ãƒ¼ãƒ )</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="ç‰¹å®šæ–½è¨­(æœ‰æ–™è€äººãƒ›ãƒ¼ãƒ )"> ç‰¹å®šæ–½è¨­(æœ‰æ–™è€äººãƒ›ãƒ¼ãƒ )</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="èªçŸ¥ç—‡å¯¾å¿œãƒ‡ã‚¤ã‚µãƒ¼ãƒ“ã‚¹"> èªçŸ¥ç—‡å¯¾å¿œãƒ‡ã‚¤ã‚µãƒ¼ãƒ“ã‚¹</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="ç¦ç¥‰ç”¨å…·è²¸ä¸"> ç¦ç¥‰ç”¨å…·è²¸ä¸</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="ç¦ç¥‰ç”¨å…·è²©å£²"> ç¦ç¥‰ç”¨å…·è²©å£²</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="è¤‡åˆå‹ã‚µãƒ¼ãƒ“ã‚¹"> è¤‡åˆå‹ã‚µãƒ¼ãƒ“ã‚¹</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="è¨ªå•ãƒªãƒãƒ“ãƒª"> è¨ªå•ãƒªãƒãƒ“ãƒª</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="è¨ªå•ä»‹è­·"> è¨ªå•ä»‹è­·</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="è¨ªå•çœ‹è­·"> è¨ªå•çœ‹è­·</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="è¨ªå•å…¥æµ´"> è¨ªå•å…¥æµ´</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="å¤œé–“å¯¾å¿œè¨ªå•ä»‹è­·"> å¤œé–“å¯¾å¿œè¨ªå•ä»‹è­·</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="ç™‚é¤ŠåŒ»ç™‚æ–½è¨­"> ç™‚é¤ŠåŒ»ç™‚æ–½è¨­</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="è€äººç¦ç¥‰æ–½è¨­"> è€äººç¦ç¥‰æ–½è¨­</label>
    <label class="layer-item"><input type="checkbox" class="layer-toggle" value="è€äººä¿å¥æ–½è¨­"> è€äººä¿å¥æ–½è¨­</label>

  </div>
  <div id="search-btn" class="circle-btn" onclick="togglePanel('search-panel')">ğŸ”</div>
  <div id="search-panel">
    <input type="text" id="search-input" placeholder="æ¤œç´¢ã‚­ãƒ¼ï¼ˆandæ¤œç´¢ï¼‰ã®å…¥åŠ›" style="width:100%; padding:10px; box-sizing:border-box;">
    <div id="search-results" style="max-height:200px; overflow-y:auto; margin-top:10px;"></div>
  </div>
  <div id="info-btn" class="circle-btn" onclick="togglePanel('info-panel')">i</div>
  <div id="info-panel" onclick="this.style.display='none'">
    <strong>åŒ»ç™‚ãƒ»ä»‹è­·æ–½è¨­ãƒãƒƒãƒ—ã€€ã€€ã€€ã€€â˜…é–‰ã˜ã‚‹â˜…</strong><br>
    <span style="color:red;">â˜…</span>ç—…é™¢
    <span style="color:blue;">&hearts;</span>è¨ºç™‚æ‰€
    <span style="color:orange;">â™£</span>æ­¯ç§‘
    <span style="color:green;">â™ </span>è–¬å±€
    <span style="color:red;">â– </span>åŠ©ç”£é™¢
    <span style="color:pink;">â–²</span>ä»‹è­·<br>
   ã€å‡ºå…¸ã€‘<br>
    åŒ»ç™‚æƒ…å ±ãƒãƒƒãƒˆï¼ˆåšç”ŸåŠ´åƒçœï¼‰<br>
    (2025å¹´12æœˆ1æ—¥ç¾åœ¨)<br>
    ä»‹è­·äº‹æ¥­æ‰€æ¤œç´¢ï¼ˆåšç”ŸåŠ´åƒçœï¼‰<br>
    (2025å¹´6æœˆ1æ—¥ç¾åœ¨)<br>
    e-Statå›½å‹¢èª¿æŸ»2020å¹´<br>
    Google API<br>
    Mapbox API<br>
   ã€æ©Ÿèƒ½ã€‘<br>
    åœ°å›³ç¨®é¡å¤‰æ›´ã€åŒ»ç™‚åœå¢ƒç•Œç·šè¡¨ç¤ºã€æ–½è¨­é¸æŠ<br>
    æ¤œç´¢æ©Ÿèƒ½(andæ¤œç´¢)<br>
    äººå£è¡¨ç¤ºï¼ˆå¢ƒç•Œç·šè¡¨ç¤ºæ™‚ï¼‰<br>

   ã€åˆ©ç”¨è¦ç´„ã€‘<br>
    æœ¬ãƒ„ãƒ¼ãƒ«ã¯ä»¥ä¸‹ã®ã‚µã‚¤ãƒˆã§ä½œæˆã—ã¦ã„ã¾ã™ã€‚<br>
    <a href="https://sites.google.com/view/indexm" target="_blank" rel="noopener noreferrer" onclick="event.stopPropagation();">https://sites.google.com/view/indexm</a><br>
    å½“è©²ã‚µã‚¤ãƒˆã®åˆ©ç”¨è¦ç´„ã‚’ã”ç¢ºèªãã ã•ã„ã€‚<br>
    ä½œæˆè€…:Mana48FanClub<br>
  </div>
  <div id="map"></div>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    const baseLayers = {
      "æ¨™æº–": L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { attribution: 'Â© OSM' }),
      "èˆªç©ºå†™çœŸ": L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', { attribution: 'Esri' }),
      "ãƒˆãƒã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯åœ°å›³": L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}', {
        attribution: 'Tiles Â© Esri'
      }),
      "ã‚°ãƒ¬ãƒ¼ã‚¹ã‚±ãƒ¼ãƒ«åœ°å›³": L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}', {
        attribution: 'Tiles Â© Esri'
      }),
      "ã‚¹ãƒˆãƒªãƒ¼ãƒˆãƒãƒƒãƒ—": L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}', {
        attribution: 'Tiles Â© Esri'
      })
    };
    const map = L.map('map', { center: [35.18, 136.90], zoom: 15, zoomControl: false, layers: [baseLayers["æ¨™æº–"]] });

    function togglePanel(id) {
      const p = document.getElementById(id);
      const isVisible = p.style.display === 'block';
      ['controls', 'search-panel', 'info-panel'].forEach(i => document.getElementById(i).style.display = 'none');
      if(!isVisible) p.style.display = 'block';
    }

    const layerGroups = {};
    const searchLayer = L.layerGroup().addTo(map);

    function loadChomeLayer(index) {
      const idx = String(index).padStart(2, '0'); // ã“ã“ã¯JSãªã®ã§padStartã§OK
      fetch(`geo_0_ç”ºä¸ç›®å¢ƒç•Œ${idx}.geojson`).then(res => res.json()).then(data => {
          layerGroups[`ç”ºä¸ç›®å¢ƒç•Œ${idx}`] = L.geoJSON(data, {
            style: { color: "red", weight: 1, fillOpacity: 0.05 },
            onEachFeature: (f, l) => { l.bindPopup(`<strong>${f.properties["ç”ºä¸ç›®å"]}</strong><br>äººå£: ${f.properties["JINKO"]}`); }
          });
      }).catch(e => {});
    }
    for (let i = 1; i <= 11; i++) loadChomeLayer(i);

    document.querySelectorAll('input[name="baseLayer"]').forEach(radio => {
      radio.addEventListener('change', function() {
        for (let key in baseLayers) map.removeLayer(baseLayers[key]);
        baseLayers[this.value].addTo(map);
      });
    });

    fetch("geo_23_1.geojson").then(res => res.json()).then(data => {
      layerGroups["ç—…é™¢"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:red; font-size:32px;">â˜…</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_23_2.geojson").then(res => res.json()).then(data => {
      layerGroups["è¨ºç™‚æ‰€"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:blue; font-size:42px;">â™¥</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_23_3.geojson").then(res => res.json()).then(data => {
      layerGroups["æ­¯ç§‘"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:orange; font-size:42px;">â™£</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_23_4.geojson").then(res => res.json()).then(data => {
      layerGroups["åŠ©ç”£é™¢"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:red; font-size:42px;">â– </div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_23_5.geojson").then(res => res.json()).then(data => {
      layerGroups["è–¬å±€"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:green; font-size:42px;">â™ </div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_ã‚°ãƒ«ãƒ¼ãƒ—ãƒ›ãƒ¼ãƒ .geojson").then(res => res.json()).then(data => {
      layerGroups["ã‚°ãƒ«ãƒ¼ãƒ—ãƒ›ãƒ¼ãƒ "] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:pink; font-size:42px;">â–²</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_ã‚·ãƒ§ãƒ¼ãƒˆã‚¹ãƒ†ã‚¤(åŒ»ç™‚).geojson").then(res => res.json()).then(data => {
      layerGroups["ã‚·ãƒ§ãƒ¼ãƒˆã‚¹ãƒ†ã‚¤(åŒ»ç™‚)"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:pink; font-size:42px;">â–²</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_ã‚·ãƒ§ãƒ¼ãƒˆã‚¹ãƒ†ã‚¤ï¼ˆä»‹è­·åŒ»ç™‚é™¢ï¼‰.geojson").then(res => res.json()).then(data => {
      layerGroups["ã‚·ãƒ§ãƒ¼ãƒˆã‚¹ãƒ†ã‚¤ï¼ˆä»‹è­·åŒ»ç™‚é™¢ï¼‰"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:pink; font-size:42px;">â–²</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_ã‚·ãƒ§ãƒ¼ãƒˆã‚¹ãƒ†ã‚¤(ç¦ç¥‰).geojson").then(res => res.json()).then(data => {
      layerGroups["ã‚·ãƒ§ãƒ¼ãƒˆã‚¹ãƒ†ã‚¤(ç¦ç¥‰)"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:pink; font-size:42px;">â–²</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_ã‚·ãƒ§ãƒ¼ãƒˆã‚¹ãƒ†ã‚¤(è€å¥).geojson").then(res => res.json()).then(data => {
      layerGroups["ã‚·ãƒ§ãƒ¼ãƒˆã‚¹ãƒ†ã‚¤(è€å¥)"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:pink; font-size:42px;">â–²</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_ãƒ‡ã‚¤ã‚±ã‚¢.geojson").then(res => res.json()).then(data => {
      layerGroups["ãƒ‡ã‚¤ã‚±ã‚¢"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:pink; font-size:42px;">â–²</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_ãƒ‡ã‚¤ã‚µãƒ¼ãƒ“ã‚¹.geojson").then(res => res.json()).then(data => {
      layerGroups["ãƒ‡ã‚¤ã‚µãƒ¼ãƒ“ã‚¹"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:pink; font-size:42px;">â–²</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_ä»‹è­·åŒ»ç™‚é™¢.geojson").then(res => res.json()).then(data => {
      layerGroups["ä»‹è­·åŒ»ç™‚é™¢"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:pink; font-size:42px;">â–²</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_å±…å®…ä»‹è­·æ”¯æ´.geojson").then(res => res.json()).then(data => {
      layerGroups["å±…å®…ä»‹è­·æ”¯æ´"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:pink; font-size:42px;">â–²</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_å°è¦æ¨¡å¤šæ©Ÿèƒ½å‹.geojson").then(res => res.json()).then(data => {
      layerGroups["å°è¦æ¨¡å¤šæ©Ÿèƒ½å‹"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:pink; font-size:42px;">â–²</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_åœ°åŸŸç‰¹å®šæ–½è¨­(ã‚µãƒ¼ãƒ“ã‚¹ä»˜ãé«˜é½¢è€…ä½å®…).geojson").then(res => res.json()).then(data => {
      layerGroups["åœ°åŸŸç‰¹å®šæ–½è¨­(ã‚µãƒ¼ãƒ“ã‚¹ä»˜ãé«˜é½¢è€…ä½å®…)"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:pink; font-size:42px;">â–²</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_åœ°åŸŸç‰¹å®šæ–½è¨­(è»½è²»è€äººãƒ›ãƒ¼ãƒ ).geojson").then(res => res.json()).then(data => {
      layerGroups["åœ°åŸŸç‰¹å®šæ–½è¨­(è»½è²»è€äººãƒ›ãƒ¼ãƒ )"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:pink; font-size:42px;">â–²</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_åœ°åŸŸç‰¹å®šæ–½è¨­(æœ‰æ–™è€äººãƒ›ãƒ¼ãƒ ).geojson").then(res => res.json()).then(data => {
      layerGroups["åœ°åŸŸç‰¹å®šæ–½è¨­(æœ‰æ–™è€äººãƒ›ãƒ¼ãƒ )"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:pink; font-size:42px;">â–²</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_åœ°åŸŸå¯†ç€ãƒ‡ã‚¤.geojson").then(res => res.json()).then(data => {
      layerGroups["åœ°åŸŸå¯†ç€ãƒ‡ã‚¤"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:pink; font-size:42px;">â–²</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_åœ°åŸŸè€äººç¦ç¥‰æ–½è¨­.geojson").then(res => res.json()).then(data => {
      layerGroups["åœ°åŸŸè€äººç¦ç¥‰æ–½è¨­"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:pink; font-size:42px;">â–²</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_å®šæœŸå·¡å›ãƒ»éšæ™‚å¯¾å¿œã‚µãƒ¼ãƒ“ã‚¹.geojson").then(res => res.json()).then(data => {
      layerGroups["å®šæœŸå·¡å›ãƒ»éšæ™‚å¯¾å¿œã‚µãƒ¼ãƒ“ã‚¹"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:pink; font-size:42px;">â–²</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_ç‰¹å®šæ–½è¨­(ã‚µãƒ¼ãƒ“ã‚¹ä»˜ãé«˜é½¢è€…ä½å®…).geojson").then(res => res.json()).then(data => {
      layerGroups["ç‰¹å®šæ–½è¨­(ã‚µãƒ¼ãƒ“ã‚¹ä»˜ãé«˜é½¢è€…ä½å®…)"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:pink; font-size:42px;">â–²</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_ç‰¹å®šæ–½è¨­(è»½è²»è€äººãƒ›ãƒ¼ãƒ ).geojson").then(res => res.json()).then(data => {
      layerGroups["ç‰¹å®šæ–½è¨­(è»½è²»è€äººãƒ›ãƒ¼ãƒ )"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:pink; font-size:42px;">â–²</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_ç‰¹å®šæ–½è¨­(æœ‰æ–™è€äººãƒ›ãƒ¼ãƒ ).geojson").then(res => res.json()).then(data => {
      layerGroups["ç‰¹å®šæ–½è¨­(æœ‰æ–™è€äººãƒ›ãƒ¼ãƒ )"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:pink; font-size:42px;">â–²</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_èªçŸ¥ç—‡å¯¾å¿œãƒ‡ã‚¤ã‚µãƒ¼ãƒ“ã‚¹.geojson").then(res => res.json()).then(data => {
      layerGroups["èªçŸ¥ç—‡å¯¾å¿œãƒ‡ã‚¤ã‚µãƒ¼ãƒ“ã‚¹"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:pink; font-size:42px;">â–²</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_ç¦ç¥‰ç”¨å…·è²¸ä¸.geojson").then(res => res.json()).then(data => {
      layerGroups["ç¦ç¥‰ç”¨å…·è²¸ä¸"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:pink; font-size:42px;">â–²</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_ç¦ç¥‰ç”¨å…·è²©å£².geojson").then(res => res.json()).then(data => {
      layerGroups["ç¦ç¥‰ç”¨å…·è²©å£²"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:pink; font-size:42px;">â–²</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_è¤‡åˆå‹ã‚µãƒ¼ãƒ“ã‚¹.geojson").then(res => res.json()).then(data => {
      layerGroups["è¤‡åˆå‹ã‚µãƒ¼ãƒ“ã‚¹"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:pink; font-size:42px;">â–²</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_è¨ªå•ãƒªãƒãƒ“ãƒª.geojson").then(res => res.json()).then(data => {
      layerGroups["è¨ªå•ãƒªãƒãƒ“ãƒª"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:pink; font-size:42px;">â–²</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_è¨ªå•ä»‹è­·.geojson").then(res => res.json()).then(data => {
      layerGroups["è¨ªå•ä»‹è­·"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:pink; font-size:42px;">â–²</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_è¨ªå•çœ‹è­·.geojson").then(res => res.json()).then(data => {
      layerGroups["è¨ªå•çœ‹è­·"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:pink; font-size:42px;">â–²</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_è¨ªå•å…¥æµ´.geojson").then(res => res.json()).then(data => {
      layerGroups["è¨ªå•å…¥æµ´"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:pink; font-size:42px;">â–²</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_å¤œé–“å¯¾å¿œè¨ªå•ä»‹è­·.geojson").then(res => res.json()).then(data => {
      layerGroups["å¤œé–“å¯¾å¿œè¨ªå•ä»‹è­·"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:pink; font-size:42px;">â–²</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_ç™‚é¤ŠåŒ»ç™‚æ–½è¨­.geojson").then(res => res.json()).then(data => {
      layerGroups["ç™‚é¤ŠåŒ»ç™‚æ–½è¨­"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:pink; font-size:42px;">â–²</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_è€äººç¦ç¥‰æ–½è¨­.geojson").then(res => res.json()).then(data => {
      layerGroups["è€äººç¦ç¥‰æ–½è¨­"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:pink; font-size:42px;">â–²</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    fetch("geo_è€äººä¿å¥æ–½è¨­.geojson").then(res => res.json()).then(data => {
      layerGroups["è€äººä¿å¥æ–½è¨­"] = L.geoJSON(data, {
        pointToLayer: (f, latlng) => L.marker(latlng, {
          icon: L.divIcon({
            className: 'custom-icon',
            html: `<div style="color:pink; font-size:42px;">â–²</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
          })
        }).bindPopup(`<strong>${f.properties["å†…å®¹"] || "-"}</strong><br>
            ${f.properties["url2"] ? `<a href="${f.properties["url2"]}" target="_blank">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</a>` : "-"} | 
            ${f.properties["url"] ? `<a href="${f.properties["url"]}" target="_blank">åŒ»ç™‚ãƒ»ä»‹è­·ãƒãƒƒãƒˆ</a>` : "-"}`)
      });
    });
    
    document.querySelectorAll('.layer-toggle').forEach(cb => {
      cb.addEventListener('change', function() {
        const g = layerGroups[this.value];
        if (g) this.checked ? g.addTo(map) : map.removeLayer(g);
      });
    });

    document.getElementById('selectAllBtn').onclick = () => {
      document.querySelectorAll('.layer-toggle').forEach(cb => { cb.checked = true; cb.dispatchEvent(new Event('change')); });
    };
    document.getElementById('deselectAllBtn').onclick = () => {
      document.querySelectorAll('.layer-toggle').forEach(cb => { cb.checked = false; cb.dispatchEvent(new Event('change')); });
    };

    // ANDæ¤œç´¢ãƒ­ã‚¸ãƒƒã‚¯
    document.getElementById('search-input').oninput = function(e) {
      const val = e.target.value.toLowerCase().trim();
      const resDiv = document.getElementById('search-results');
      resDiv.innerHTML = '';
      if(!val) return;
      const keywords = val.split(/[\sã€€]+/);
      for (let label in layerGroups) {
        if (!layerGroups[label]) continue;
        layerGroups[label].eachLayer(l => {
          if (!l.feature || !l.feature.properties["å†…å®¹"]) return;
          const name = l.feature.properties["å†…å®¹"].toLowerCase();
          const isMatch = keywords.every(kw => name.includes(kw));
          if(isMatch) {
            const item = document.createElement('div');
            item.style = "padding:8px; border-bottom:1px solid #eee; font-size:13px; cursor:pointer;";
            item.innerText = l.feature.properties["å†…å®¹"];
            item.onclick = () => {
              searchLayer.clearLayers();
              const m = L.marker(l.getLatLng(), {
                icon: L.divIcon({ className:'custom-icon blink', html: l.options.icon.options.html, iconSize:[40,40], iconAnchor:[20,20] })
              }).addTo(searchLayer).bindPopup(l.getPopup().getContent()).openPopup();
              map.setView(l.getLatLng(), 17);
              togglePanel('search-panel');
            };
            resDiv.appendChild(item);
          }
        });
      }
    };
  </script>
</body>
</html>
